---
title: Cockpit 269
author: garrett
date: '2022-05-11'
tags: cockpit, machines, podman
slug: cockpit-269
category: release
summary: ''
---

Cockpit is the [modern Linux admin interface](https://cockpit-project.org/).
We release regularly.

Here are the release notes from Cockpit 269, cockpit-machines 268, and cockpit-podman 48:


## Dark mode for Cockpit Client

State: **merged** @ <https://github.com/cockpit-project/cockpit/pull/17321>
{:.note}

The chrome of Cockpit Client now follows the system dark style preference.  We'll be adding dark mode for the content in the near future.

## systemd: allow removal of cockpit created timers

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit/pull/17244>
{:.warn}

Cockpit allows for the creation of simple systemd system timers without
the option for deletion. This commit implements deletion for all timers
created in /etc/systemd/system/ by cockpit or by hand. The unit which is
triggered by the timer is also removed. Masked timers are not allowed to
be deleted as these are system timers in /etc/systemd/system symlinked
to /dev/null.

## metrics: Add CPU temperature to metrics page

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit/pull/17160>
{:.warn}

Fixes: #11364

![cpu_temperature_normal]({{ site.baseurl }}/images/269-metrics-add-cpu-temperature-to-metrics-page.png)

![cpu_temperature_warning]({{ site.baseurl }}/images/269-metrics-add-cpu-temperature-to-metrics-page-2.png)

![cpu_temperature_critical]({{ site.baseurl }}/images/269-metrics-add-cpu-temperature-to-metrics-page-3.png)

## bridge: Add channel redirection

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit/pull/14641>
{:.warn}

This adds a "redirect" option to the open command, which takes the name
of the channel the output of the new one will be redirected to. The
redirect is effectively applied as close to the channels as possible.

Closes #14560

---

There are two cases in which the output is redirected from a channel:
- The output is redirected from a local channel. This is handled in `CockpitRouter` by setting the `redirect_target` property of `CockpitChannel`, which uses it to send data to the redirect target instead of the transport in `cockpit_channel_actual_send`.
- The output is redirected from a peer. This is handled in `cockpit_peer_handle` by passing the redirect target as an argument and then by putting the redirect into a hash table with the (source) channel name as a key. `on_other_recv` then looks up the channel name in the table, again sending it to the redirect target instead of the transport if a corresponding entry is present.

Similarly there are two redirect target types: a local channel and a peer. These are handled by different implementations of the `CockpitRedirect` interface - `CockpitChannelRedirect` for local channels (holding a reference to the corresponding `CockpitChannel` object) and `CockpitPeerRedirect` for peers (holding a reference to the transport and the channel name).

Redirection of a channel is attempted on all bridges - the shortest path then takes precedence (e.g. if there is a redirect between two channels on the same peer, it happens on both the parent bridge and the peer, but effectively the data is redirected on the peer and nothing arrives on the parent). This also means it is compatible with older versions of cockpit-bridge - they simply ignore the redirect option and the redirect is done on the parent bridge (this can obviously be slower, but it will work).

I hope this makes sense - it seems like a small, but useful feature to me. (For potential uses see the linked issue.)

## Machines: Autogenerate VM name

State: **merged** @ <https://github.com/cockpit-project/cockpit-machines/pull/665>
{:.note}

If no name is specified for a new virtual machine, generate it from its operating system's name. The autogenerated name is visible only after the operating system is specified.

![Screenshot from 2022-05-09 15-02-54]({{ site.baseurl }}/images/269-machines-autogenerate-vm-name.png)

## Before
![Screenshot from 2022-04-04 13-58-28]({{ site.baseurl }}/images/269-before.png)

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit-machines/pull/652>
{:.warn}

### After
![Screenshot from 2022-04-05 11-43-31]({{ site.baseurl }}/images/269-before-2.png)

### Before
![Screenshot from 2022-04-04 15-44-38]({{ site.baseurl }}/images/269-before-3.png)


### After
![Screenshot from 2022-04-04 15-38-53]({{ site.baseurl }}/images/269-before-4.png)

### Before
![Screenshot from 2022-04-05 12-03-16]({{ site.baseurl }}/images/269-before-5.png)

### After
![Screenshot from 2022-04-05 12-03-47]({{ site.baseurl }}/images/269-before-6.png)

### Before
![Screenshot from 2022-04-05 12-03-54]({{ site.baseurl }}/images/269-before-7.png)

### After
![Screenshot from 2022-04-05 12-03-59]({{ site.baseurl }}/images/269-before-8.png)

### Before
![Screenshot from 2022-04-05 12-09-09]({{ site.baseurl }}/images/269-before-9.png)

### After
![Screenshot from 2022-04-05 12-12-09]({{ site.baseurl }}/images/269-before-10.png)

## Podman: container rename support

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit-podman/pull/966>
{:.warn}

Allow to rename a container, if it is not running or paused.

There is an issue with container not being refreshed after renamed, as no rename event is fired. This should be fixed in podman v4.1 according to https://github.com/containers/podman/issues/13919

## Podman: Update ContainerDetails.jsx

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit-podman/pull/923>
{:.warn}

Add Network, Volumes and Environment sections to Detailed view

## Support for health checks

State: **OPEN** (will not be included) @ <https://github.com/cockpit-project/cockpit-podman/pull/897>
{:.warn}

It is now possible to set up, inspect and trigger health checks for container. Also the most recent history as well as overall status are presented.

![Screenshot from 2022-02-04 10-41-59]({{ site.baseurl }}/images/269-support-for-health-checks.png)


## Try it out

Cockpit 269, cockpit-machines 268, and cockpit-podman 48 are available now:

* [For your Linux system](https://cockpit-project.org/running.html)

* [Cockpit Source Tarball](https://github.com/cockpit-project/cockpit/releases/tag/269)
* [Cockpit Fedora 36](https://bodhi.fedoraproject.org/updates/?releases=F36&packages=cockpit)
* [Cockpit Fedora 35](https://bodhi.fedoraproject.org/updates/?releases=F35&packages=cockpit)
* [Cockpit Client](https://flathub.org/apps/details/org.cockpit_project.CockpitClient)
* [cockpit-machines Source Tarball](https://github.com/cockpit-project/cockpit-machines/releases/tag/268)
* [cockpit-machines Fedora 36](https://bodhi.fedoraproject.org/updates/?releases=F36&packages=cockpit-machines)
* [cockpit-machines Fedora 35](https://bodhi.fedoraproject.org/updates/?releases=F35&packages=cockpit-machines)
* [Cockpit Client](https://flathub.org/apps/details/org.cockpit_project.CockpitClient)
* [cockpit-podman Source Tarball](https://github.com/cockpit-project/cockpit-podman/releases/tag/48)
* [cockpit-podman Fedora 36](https://bodhi.fedoraproject.org/updates/?releases=F36&packages=cockpit-podman)
* [cockpit-podman Fedora 35](https://bodhi.fedoraproject.org/updates/?releases=F35&packages=cockpit-podman)
* [Cockpit Client](https://flathub.org/apps/details/org.cockpit_project.CockpitClient)

*[CPU]: Central Processing Unit, the "brain" of a computer
*[VM]: Virtual Machine