---
title: Cockpit 248
author: garrett
date: '2021-07-07'
tags: cockpit, machines, ostree
slug: cockpit-248
category: release
summary: ''
---

Cockpit is the [modern Linux admin interface](https://cockpit-project.org/).
We release regularly.

Here are the release notes from Cockpit 248, Cockpit-Machines 247, and Cockpit-OSTree 187:


## Metrics: Install missing packages

[Cockpit 247](https://cockpit-project.org/blog/cockpit-247.html) introduced setting up a machine for Grafana metrics. However, this only worked if the `pcp` and `redis` packages were already installed. With this Cockpit version, the options will always work, and missing packages get installed as needed.

![screenshot of install missing packages]({{ site.baseurl }}/images/248-metrics-install-missing-packages.png)
![screenshot of install missing packages]({{ site.baseurl }}/images/248-metrics-install-missing-packages-2.png)

This completes the story of [setting up PCP and Grafana metrics with Cockpit](https://cockpit-project.org/blog/pcp-grafana.html), have a look at that blog post for all the details.

## PAM: Deprecate `pam_cockpit_cert` module

The `pam_cockpit_cert` module is no longer required for client certificate authentication, and has been deprecated.  This release continues to ship a stub module which returns `PAM_IGNORE`, but this stub will be dropped in a future release.  If you modified  `/etc/pam.d/cockpit`, the package upgrade will not automatically update the file -- please remove the relevant entry manually in this case.

## Storage: the Format dialog has been polished

Fields have been re-ordered and warnings and errors are now consistent with Cockpit's common styling.

![screenshot of the format dialog has been polished]({{ site.baseurl }}/images/248-storage-the-format-dialog-has-been-polished.png)

## Machines: Migration of a virtual machine

VM migration is now supported and exposing various configuration options. The user has the ability to choose between live and offline migration, can decide if they want to copy the disks or use a shared storage and lastly there is the option to make the migration temporary.

![screenshot of migration of a virtual machine]({{ site.baseurl }}/images/248-machines-migration-of-a-virtual-machine.png)
![screenshot of migration of a virtual machine]({{ site.baseurl }}/images/248-machines-migration-of-a-virtual-machine-2.png)

## cockpit-ostree: Bump epoch to 1

The cockpit-ostree RPM package is being released as version `1:186`, with a newly introduced epoch.  This will re-enable upgrading from an unintentional "version 999" of cockpit-ostree which was accidentally published while testing the release infrastructure.  Packages for Debian-based distributions are not impacted by this change.

## Try it out

Cockpit 248, Cockpit-Machines 247, and Cockpit-OSTree 187 are available now:

* [For your Linux system](https://cockpit-project.org/running.html)

* [Cockpit Source Tarball](https://github.com/cockpit-project/cockpit/releases/tag/248)
* [Cockpit Fedora 34](https://bodhi.fedoraproject.org/updates/?releases=F34&packages=cockpit)
* [Cockpit Fedora 33](https://bodhi.fedoraproject.org/updates/?releases=F33&packages=cockpit)
* [Cockpit-Machines Source Tarball](https://github.com/cockpit-project/cockpit-machines/releases/tag/247)
* [Cockpit-Machines Fedora 34](https://bodhi.fedoraproject.org/updates/?releases=F34&packages=cockpit-machines)
* [Cockpit-Machines Fedora 33](https://bodhi.fedoraproject.org/updates/?releases=F33&packages=cockpit-machines)
* [Cockpit-OSTree Source Tarball](https://github.com/cockpit-project/cockpit-ostree/releases/tag/187)
* [Cockpit-OSTree Fedora 34](https://bodhi.fedoraproject.org/updates/?releases=F34&packages=cockpit-ostree)
* [Cockpit-OSTree Fedora 33](https://bodhi.fedoraproject.org/updates/?releases=F33&packages=cockpit-ostree)

*[PCP]: Performance Co-Pilot
*[VM]: Virtual Machine
